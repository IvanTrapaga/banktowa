<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="/bower_components/polymer/lib/elements/dom-if.html">

<dom-module id="banktowa-traspaso-mensaje">
    <template>
    <style>
      :host {
        display: block;        
        
        --label-traspaso: 20px;
      }

      :host{
        width: 92%;
        height: auto;
        margin: 0% 4% 0% 4%;
      }

      .msjok{
          border-color: green;
          border-style: solid;
          border-width: 2px;
          background-color: #fafafa;
      }
      .msjerror{
          border-color: red;
          border-style: solid;
          border-width: 2px;
          background-color: #fafafa;
      }

      button {
        width: var(--width-button, 30%);
        height: var(--height-button, 50px);
        font-size: var(--label-traspaso);
        margin: 0% 4% 0% 0%;
      }

      span{
        font-size: var(--label-traspaso);
      }
    </style>

<template is="dom-if" if=[[mensaje]]>
<div class="msjok">
        <br />
    <div><span>¿Estas seguro de realizar el traspaso a <b>"[[cuenta.alias]]"</b> por <b>$[[importe]]</b>?</span></div>
    <br />
    <div align="right"><button on-click="continuar">Continuar</button><button on-click="cancelar">Cancelar</button></div>
</div>
</template>

    <template is="dom-if" if=[[!mensaje]]>
        <div class="msjerror">
            <h3>[[msjError]]</h3>
            <div><button on-click="cancelar">Regresar</button></div>
        </div>
        </template>

    </template>

    <script>
        class BanktowaTraspasoMensaje extends Polymer.Element {
            static get is() {
                return 'banktowa-traspaso-mensaje';
            }
            static get properties() {
                return {
                    module: {
                        type: String,
                        value: 'banktowa-traspaso-mensaje'
                    },

                    importe: {
                        type: String
                    },

                    cuenta: {
                        type: Object,
                        value: {
                            id: 0,
                            no_cuenta: "45238080149063",
                            alias: "cuenta destino",
                            id_cliente: "1"
                        }
                    },

                    msjError: {
                        type: String,
                        value: "El saldo de tu cuenta es insuficiente para realizar la transferencia"
                    },

                    mensaje: {
                        type: Boolean,
                        value: false,
                        notify: true
                    },

                    comprobante: {
                        type: Boolean,
                        value: false,
                        notify: true
                    }

                }
            }

            constructor() {
                super();

                let numImporte = parseFloat(this.importe);
                console.log("mensaje", numImporte, this.importe);
                if (typeof numImporte !== 'Number' || !(numImporte >= 1 && numImporte < 100000000)) {

                    if (numImporte < 1) {
                        this.set('msjError', "El importe mínimo para traspasar a otra cuenta debe ser un peso. ")
                    }

                    this.set('mensaje', false);
                    this.set('comprobante', false);
                }
            }

            //---------------------------------------------------------------------------------------------------------
            continuar() {
                //this.set('mensaje', false);
                this.set('comprobante', true);
            }

            //---------------------------------------------------------------------------------------------------------
            cancelar() {
                this.set('mensaje', false);
                this.set('comprobante', false);

            }

            //---------------------------------------------------------------------------------------------------------

            //---------------------------------------------------------------------------------------------------------


            //---------------------------------------------------------------------------------------------------------

            //---------------------------------------------------------------------------------------------------------
        }
        window.customElements.define(BanktowaTraspasoMensaje.is, BanktowaTraspasoMensaje);
    </script>
</dom-module>